{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.binarywolf.live-Wallpaper\/documentation\/live_Wallpaper\/WallpaperViewModel\/saveToPhotoLibrary()"},"sections":[],"metadata":{"role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"saveToPhotoLibrary","kind":"identifier"},{"text":"()","kind":"text"}],"symbolKind":"method","title":"saveToPhotoLibrary()","roleHeading":"Instance Method","modules":[{"name":"live_Wallpaper"}],"externalID":"s:14live_Wallpaper0B9ViewModelC18saveToPhotoLibraryyyF"},"hierarchy":{"paths":[["doc:\/\/com.binarywolf.live-Wallpaper\/documentation\/live_Wallpaper","doc:\/\/com.binarywolf.live-Wallpaper\/documentation\/live_Wallpaper\/WallpaperViewModel"]]},"schemaVersion":{"patch":0,"minor":3,"major":0},"abstract":[{"type":"text","text":"Saves the processed video as a Live Photo to the photo library."}],"variants":[{"paths":["\/documentation\/live_wallpaper\/wallpaperviewmodel\/savetophotolibrary()"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"symbol","primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"saveToPhotoLibrary","kind":"identifier"},{"text":"()","kind":"text"}],"platforms":["iOS"],"languages":["swift"]}]},{"content":[{"type":"heading","level":2,"text":"Discussion","anchor":"discussion"},{"type":"paragraph","inlineContent":[{"text":"This method takes the processed video and converts it to a Live Photo format","type":"text"},{"text":" ","type":"text"},{"text":"before saving it to the userâ€™s photo library. It handles photo library permissions","type":"text"},{"text":" ","type":"text"},{"text":"and provides appropriate feedback throughout the process.","type":"text"}]},{"type":"heading","level":2,"text":"Process Flow","anchor":"Process-Flow"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Validates that a processed video exists"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Requests photo library authorization if needed"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Converts video to Live Photo format"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Saves to photo library"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Provides user feedback"}],"type":"paragraph"}]}],"type":"orderedList"},{"type":"heading","level":2,"text":"State Updates","anchor":"State-Updates"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Sets ","type":"text"},{"code":"isProcessing","type":"codeVoice"},{"text":" to ","type":"text"},{"code":"true","type":"codeVoice"},{"text":" during operation","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Sets "},{"type":"codeVoice","code":"showSuccessMessage"},{"type":"text","text":" on successful save"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Sets "},{"type":"codeVoice","code":"errorMessage"},{"type":"text","text":" on failure"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Provides haptic feedback for all outcomes","type":"text"}]}]}],"type":"unorderedList"},{"type":"heading","level":2,"text":"Permissions","anchor":"Permissions"},{"type":"paragraph","inlineContent":[{"text":"This method handles photo library permissions automatically and will","type":"text"},{"text":" ","type":"text"},{"text":"show appropriate error messages if access is denied.","type":"text"}]},{"type":"aside","name":"Requires","content":[{"inlineContent":[{"text":"","type":"text"},{"type":"codeVoice","code":"trimmedVideoURL"},{"text":" must not be ","type":"text"},{"type":"codeVoice","code":"nil"}],"type":"paragraph"}],"style":"note"},{"type":"aside","name":"Important","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Requires photo library access permissions"}]}],"style":"important"}],"kind":"content"}],"references":{"doc://com.binarywolf.live-Wallpaper/documentation/live_Wallpaper/WallpaperViewModel/saveToPhotoLibrary()":{"role":"symbol","identifier":"doc:\/\/com.binarywolf.live-Wallpaper\/documentation\/live_Wallpaper\/WallpaperViewModel\/saveToPhotoLibrary()","kind":"symbol","url":"\/documentation\/live_wallpaper\/wallpaperviewmodel\/savetophotolibrary()","title":"saveToPhotoLibrary()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"saveToPhotoLibrary"},{"kind":"text","text":"()"}],"type":"topic","abstract":[{"text":"Saves the processed video as a Live Photo to the photo library.","type":"text"}]},"doc://com.binarywolf.live-Wallpaper/documentation/live_Wallpaper":{"title":"live_Wallpaper","url":"\/documentation\/live_wallpaper","kind":"symbol","identifier":"doc:\/\/com.binarywolf.live-Wallpaper\/documentation\/live_Wallpaper","abstract":[],"type":"topic","role":"collection"},"doc://com.binarywolf.live-Wallpaper/documentation/live_Wallpaper/WallpaperViewModel":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"WallpaperViewModel"}],"url":"\/documentation\/live_wallpaper\/wallpaperviewmodel","type":"topic","identifier":"doc:\/\/com.binarywolf.live-Wallpaper\/documentation\/live_Wallpaper\/WallpaperViewModel","role":"symbol","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"WallpaperViewModel"}],"abstract":[{"text":"ViewModel responsible for handling video selection, processing, and saving as Live Photos.","type":"text"}],"title":"WallpaperViewModel"}}}